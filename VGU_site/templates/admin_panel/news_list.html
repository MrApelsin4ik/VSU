{% extends "admin_panel/admin_panel_base.html" %}

{% block title %}Новости — админ{% endblock %}
{% block page_title %}Новости{% endblock %}
{% block page_subtitle %}
<p class="page-subtitle">Список новостей. Добавление и редактирование через Django admin.</p>
{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin_main' %}" class="btn btn-ghost">← В панель управления</a>
</div>
{% endblock %}

{% block content %}
<div class="top-actions" style="margin-bottom: 8px;">
    <a href="{% url 'admin:main_app_news_add' %}" class="btn btn-primary">+ Добавить новость</a>
    <a href="{% url 'admin:main_app_news_changelist' %}" class="btn btn-secondary">Открыть Django admin</a>
</div>

<table class="table">
    <thead>
    <tr>
        <th>ID</th>
        <th>Заголовок</th>
        <th>Раздел</th>
        <th>Создано</th>
        <th>Опубликовано</th>
        <th>Действия</th>
    </tr>
    </thead>
    <tbody>
    {% for item in news_list %}
        <tr>
            <td>{{ item.id }}</td>
            <td>{{ item.title }}</td>
            <td class="muted">{{ item.section }}</td>
            <td>{{ item.created_at|date:"d.m.Y H:i" }}</td>
            <td>
                {% if item.is_published %}
                    <span class="tag tag-success">Опубликовано</span>
                {% else %}
                    <span class="tag tag-danger">Скрыто</span>
                {% endif %}
            </td>
            <td class="table-actions">
                <a href="{% url 'admin:main_app_news_change' item.id %}">Изменить</a>
            </td>
        </tr>
    {% empty %}
        <tr class="empty-row">
            <td colspan="6">Новостей пока нет.</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
